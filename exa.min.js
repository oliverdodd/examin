Assert={msg:function(d,c){return(c===undefined)?d:c},fail:function(c){throw (new AssertionException(c))}};Assert.containsKey=function(e,c,d){d=Assert.msg("array or object contains key ("+c+")",d);return Assert.isTrue(e[c]!=undefined,d)};Assert.equals=function(d,c,e){e=Assert.msg(d+" === "+c,e);return Assert.isTrue(d===c,e)};Assert.functionReturns=function(g,f,d){d=Assert.msg(a+" returns "+b,d);try{var c=g();return Assert.equals(c,f)}catch(h){Assert.fail("error evaluating function ("+g+"): "+h)}};Assert.greaterThan=function(d,c,e){e=Assert.msg(d+" > "+c,e);return Assert.isTrue(d>c,e)};Assert.greaterThanOrEqualTo=function(d,c,e){e=Assert.msg(d+" >= "+c,e);return Assert.isTrue(d>=c,e)};Assert.isBlank=function(c,d){d=Assert.msg("is blank",d);return Assert.equals(c,"",d)};Assert.isFalse=function(c,d){d=Assert.msg("condition evaluates to false",d);return c?Assert.fail(d):true};Assert.isNull=function(c,d){d=Assert.msg("is null",d);return Assert.equals(c,null,d)};Assert.isNumber=function(c,d){d=Assert.msg("is number",d);return Assert.isTrue(!isNaN(c),d)};Assert.isTrue=function(c,d){d=Assert.msg("condition evaluates to true",d);return c?true:Assert.fail(d)};Assert.isUndefined=function(c,d){d=Assert.msg("is undefined",d);return Assert.equals(c,undefined,d)};Assert.lessThan=function(d,c,e){e=Assert.msg(d+" < "+c,e);return Assert.isTrue(d<c,e)};Assert.lessThanOrEqualTo=function(d,c,e){e=Assert.msg(d+" <= "+c,e);return Assert.isTrue(d<=c,e)};Assert.notBlank=function(c,d){d=Assert.msg("not blank",d);return Assert.notEqual(c,"",d)};Assert.notEqual=function(d,c,e){e=Assert.msg(d+" != "+c,e);return Assert.isTrue(d!==c,e)};Assert.notNull=function(c,d){d=Assert.msg("not null",d);return Assert.notEqual(c,null,d)};Assert.notNumber=function(c,d){d=Assert.msg("not number",d);return Assert.isTrue(isNaN(c),d)};Assert.notSame=function(d,c,e){e=Assert.msg(d+" != "+c,e);return Assert.isTrue(d!=c,e)};Assert.notUndefined=function(c,d){d=Assert.msg("not undefined",d);return Assert.notEqual(c,undefined,d)};Assert.same=function(d,c,e){e=Assert.msg(d+" == "+c,e);return Assert.isTrue(d==c,e)};Assert.stringEndsWith=function(d,c,e){e=Assert.msg("string ends with "+c,e);return Assert.equals(d.lastIndexOf(c),d.length-c.length,e)};Assert.stringStartsWith=function(c,e,d){d=Assert.msg("string starts with "+e,d);return Assert.equals(c.indexOf(e),0,d)};AssertionException=function(c){this.name="AssertionException";this.message=c;this.getErrorLocation()};AssertionException.prototype.getErrorLocation=function(){var e=null;var c=(new Error().stack).split("\n");for(var g in c){var h=(/(\([^\(]*\))@(.+):([\d]+)/).exec(c[g]);if(h&&h.length==4){var j=h[2];var d=h[3];if(e==null){e=j}else{if(e!=j){this.fileName=j;this.lineNumber=d;return}}}}};TestCase=function(e,d){e=e||{};this.object=e;this.name=d||"Untitled Test Case";this.setup=e.setup!==undefined?function(){try{this.object.setup()}catch(f){throw ("setup failed")}}:function(){};this.teardown=e.teardown!==undefined?function(){try{this.object.teardown()}catch(f){throw ("teardown failed")}}:function(){};this.tests=[];for(var c in e){if((c+"").search("test")===0){this.tests.push(c)}}this.failures={};this.testsRun=0;this.testsFailed=0};TestCase.prototype.run=function(){var g=this.tests.length;for(var c=0;c<g;c++){var f=this.tests[c];try{this.setup();this.object[f]();this.teardown()}catch(d){this.failures[f]=d;this.testsFailed++}this.testsRun++}};TestCase.prototype.getResults=function(){var d=this.name+": tests="+this.tests.length+" run="+this.testsRun+" failures="+this.testsFailed;if(this.testsFailed>0){d+="\n\tFailed Tests:\n";for(var c in this.failures){var f=this.failures[c];d+="\t\t"+c+": "+f.message+" ("+f.fileName+":"+f.lineNumber+")\n"}}return d};Examin={testCases:[]};Examin.registerTest=function(c){Examin.testCases.push(c)};Examin.registerTests=function(d){for(var c in d){Examin.testCases.push(d[c])}};Examin.runTests=function(f){f=f||document.body;for(var d in Examin.testCases){var c=Examin.testCases[d];c.run();f.innerHTML+=c.getResults()}};